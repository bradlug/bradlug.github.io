---
author: John
date: 2026-01-21 21:59:36+00:00
excerpt: '<p><strong>Darren</strong> mentioned that he had joined the <a href="https://www.u3a.org.uk/what-we-do/learning/interest-groups-online/interest-groups-online-groups/igo-linux-discussion-group" type="text/html" role="link">U3A Linux Discussion Group</a>. Bernie explained that there are lots of Interest Groups Online including astronomy and Pilates which he and Anita respectively attend. They use Zoom.</p><p><strong>Steve and Brian</strong> initiated a discussion on the use of profiles in Brave and private browsing in Firefox to isolate websites.</p>'
layout: post
title: 'January 13 2026 U3A IGO, walrus operator, data backup, Pypi wheels'
categories:
- Past Meetings
---
<p><strong>Darren</strong> mentioned that he had joined the <a href="https://www.u3a.org.uk/what-we-do/learning/interest-groups-online/interest-groups-online-groups/igo-linux-discussion-group" type="text/html" role="link">U3A Linux Discussion Group</a>. Bernie explained that there are lots of Interest Groups Online including astronomy and Pilates which he and Anita respectively attend. They use Zoom.</p><p><strong>Steve and Brian</strong> initiated a discussion on the use of profiles in Brave and private browsing in Firefox to isolate websites.</p><p>Steve commented that he had deactivated <a href="https://tailscale.com/" type="text/html" role="link">tailscale</a> because of the risk that people can get in whereas Brian uses it all the time to maintain contact with home in England. If he detects a problem, he can get a friend to go round to check.</p><p>Brian added that he had had to adjust the highly accurate smart thermometer on the heating system because it was going on and off with a 0.2° change so that the heating system was hunting. A boiler should only go on and off three times an hour. Intelligent thermostats work out when to turn off the heating system to avoid overshoot.</p><p><strong>John</strong> noted that <a href="https://www.bcbradio.co.uk/" type="text/html" role="link">BCB</a> had moved to Bradford Arts Centre in early December 2025. John would be meeting Jonathan before the next meeting.</p><p>John went on to say that he had watched <a href="https://www.youtube.com/watch?v=GfH4QL4VqJ0&t=60s" type="text/html" role="link">Python: The documentary</a> but hadn’t understood what the argument was in 2018 which had caused Guido to step down.</p><p><strong>Bernie</strong> said that the argument had been over the addition of the walrus operator := . Whereas x==5 validates a statement, x:-5 also makes x equal to the value; it saves an extra step.</p><figure><img src="http://www.bradlug.co.uk/blog/2026/01/13/images/Walrus.png" alt="Coding showing the use of the walrus operator" width="600" height="284" role="img"><figcaption>The walrus operator</figcaption></figure><p><strong>Brian</strong> reported that he had set up an <a href="https://en.wikipedia.org/wiki/ESP32" type="text/html" role="link">ESP32</a> with a digital 3W amplifier and a digital microphone all of which was supposed to work with <a href="https://www.home-assistant.io/" type="text/html" role="link">Home Assistant</a> voice; though he had done the installation via <a href="https://esphome.io/" type="text/html" role="link">ESPHome</a> and it comes up on Home Assistant, it didn’t come up with a response.</p><p><strong>Steve</strong> gave a presentation on <em>Data backup with Linux</em>.</a><p>His data storage is an <a href="https://www.openmediavault.org/" type="text/html" role="link">openmediavault</a> NAS using ZFS Raid-1 with 3x 6TB HDD.</p><p>The backups need to protect against:</p><ul><li>NAS hardware failure — primarily disk failure</li><li>Fire/Water/Building collapse etc.</li><li>Theft or loss!</li></ul><p>He noted that there is only one parity disk with <a href="https://en.wikipedia.org/wiki/ZFS" type="text/html" role="link">ZFS</a> Raid-1 and so he can stand one disk failing but not two. There is a backup mantra: ‘Two is one, one is none.’</p><p>His strategy is automated daily backups using a Raspberry Pi 4 attached to an 8TB USB 3.0 HDD which is separated in the house from the NAS by double skinned walls.</p><p>He originally used the Raspberry Pi OS but that cannot be updated as easily as Ubuntu. So he now uses an <a href="https://ubuntu.com/" type="text/html" role="link">Ubuntu</a> server running a shell script via a cron job. The shell script is loosely based on <a href="https://rsnapshot.org/" type="text/html" role="link">rsnapshot</a>.</p><p>The backup script core concept is:</p><ul><li>Create a copy of the latest snapshot using <code>cp -al</code>; this creates hard-links rather than file copies;</li><li>Update the new snapshot using <code>rsync -a --delete</code>; this will backup any modified/new files from the NAS</li><li>Rename the snapshots to create monthly/weekly/daily backups.</li></ul><p>Having monthly backups solves the problem of data being corrupted without you knowing it.</p><p>The script is written in BASH; it relies on having <code>rsync</code>, <a href="hhttps://marlam.de/msmtp/" type="text/html" role="link">msmtp</a> and <a href="https://sourceforge.net/projects/hdparm/" type="text/html" role="link">hdparm</a> installed.</p><p>The backup job pre-checks in the script include:</p><ul><li>check that the script is running as root;</li><li>check that a valid parameter has been passed (daily/weekly/monthly report);</li><li>mount the backup drive on the Pi;</li><li>check that the backup directory is correctly mounted (using a marker file).</li></ul><p>The backup is spun down and disconnected between backups.</p><p>These checks were added after he discovered that <code>rsnapshot</code> was failing in various situations.</p><p>For weekly and monthly backups, the script creates a marker file for the daily backup to process.</p><p>For daily backups, the script:</p><ul><li>runs the monthly backup if required;</li><li>runs the weekly backup if required;</li><li>creates a hidden timestamp file in the root of each source directory;</li><li>runs the daily backup;</li><li>deletes the hidden timestamp file in the source directory;</li><li>emails a report ($0 report);</li><li>unmounts the backup drive;</li><li>spins down the HDD (<code>hdparm -y</code>)</li></ul><p>Monthly backups take place on the first day of the month and weekly on Saturday, followed by the daily backup (so they can all happen on the same day).</p><p>At the report stage the script</p><ul><li>checks that the timestamp files in each backup directory match the current date;</li><li>runs the smartctl test and reports the SMART status of the backup HDD;</li><li>shows the disk usage for the four most recent snapshots of each type in an HTML table.</li></ul><figure><img src="http://www.bradlug.co.uk/blog/2026/01/13/images/Report_script.png" alt="Report script using msmtp" width="618" height="626" role="img"><figcaption>The report script</figcaption></figure><p>The configuration for the script is stored in a separate ‘shell script’ which is sourced by the backup script at startup. The log is output to a file on the backup server via ‘LOG’ and ‘DBG’ functions.</p><p>(David complimented Steve on the coding standard of the scripts but his countenance changed suddenly when to encountered a double bracket.)</p><p>Steve had used a single <code>crontab</code> for all the <code>crontab</code> settings.</p><figure><img src="http://www.bradlug.co.uk/blog/2026/01/13/images/Crontab_script.png" alt="Crontab script" width="600" height="400" role="img"><figcaption>The <code>crontab</code> script</figcaption></figure><p>The security considerations which Steve had had in mind included:</p><ul><li>no backup encryption because encryption would increase the risk of not being able to restore a backup through loss of keys;</li><li>having good physical control of the backups;</li><li>encrypting anything critical on the NAS;</li><li>not allowing the backup server to mount NAS CIFS/NEFS shares;</li><li>doing remote NAS access via <code>ssh</code> and <code>rsync</code> which is robust and doesn't require any Samba credentials to be stored on the backup server — it only needs the SSH key to work.</li></ul><p>Among ideas for improvement/concerns which Steve mentioned were:</p><ul><li>using messages via <a href="https://ntfy.sh/" type="text/html" role="link">ntfy</a> in the event of a backup failure;</li><li>using the ZFS snapshot to ensure data consistency;</li><li>improving backup data integrity (data is currently backed up to an ext4 filesystem);</li><li>using ZFS to send/receive snapshots.</li></ul><p>He noted that ZFS is both a volume manager and a filesystem — each block is checked. You can put an SSD in front which it uses as a cache before writing to the hard drive. When reading it will read the checksum and, if it is not right, will read the other source.</p><p>He added that he had had a disk failure with ZFS in spite of the SMART checks. A problem with ZFS Raid-1 is that, if one disk fails, you are OK but, if two fail, you have a problem.</p><p>David noted that there is still a problem with the licensing of ZFS.</p><p>Steve uses <code>openmediavault</code> on an HP Microserver; he may switch to <a href="https://www.truenas.com/freenas/" type="text/html" role="link">FreeNAS</a> as he has got a new NAS limited to 16Gb; he has put the <a href="https://www.proxmox.com/en/proxmox-virtual-environment/overview" type="text/html" role="link">Proxmox</a> server on this along with <code>openmediavault</code> so that it is easy to migrate.</p><p><strong>Bernie</strong> shared what he had learned since uploading a program to <a href="https://pypi.org/" type="text/html" role="link">Pypi</a>.</p><p>Anyone can use <code>pip install</code> to install packages and this creates no problem for Python programs; however there can be problems with programs that have C components. C is faster as it is not interpreted and there already are C programs for many functions. There is a Python to C layer, for example, for binding to GUI programs.</p><p>So Pypi also has wheels which contain compiled binaries for the C components of the program.</p><p><code>pip install</code> looks on your operating system and, if it doesn‘t find the required component, it downloads the source and compiles it for your architecture as long as you have a compiler on your machine. The <a href="https://piwheels.org/" type="text/html" role="link">piwheels</a> website has copy of each wheel and creates wheels for Raspberry Pis.</p><p>David pointed out that there will always be a problem if people don’t make programs available for all architectures, for example, by using the <a href="https://openbuildservice.org/" type="text/html" role="link">Open Build Service</a>. If not, you need to install dependencies.</p>
