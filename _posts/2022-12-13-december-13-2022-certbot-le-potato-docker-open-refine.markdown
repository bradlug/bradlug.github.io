---
author: John
date: 2022-12-21 21:55:36+00:00
excerpt: '<p><strong>John</strong> reported on his successful installation of a Let’s Encrypt certificate using <a href="https://certbot.eff.org/" type="text/html" role="link">certbot</a> in manual mode. He had first downloaded <code>certbot</code> to his computer; he had then gone to the webroot folder on the website, that is, the one containing <code>index.html</code>, and created the folder <code>.well-known</code> and then, inside that, another folder called <code>acme-challenge</code> so that he had <code>/.well-known/acme-challenge/</code>.</p>'
layout: post
title: 'December 12 2022 certbot, ‘Le potato,’ Docker, Open Refine'
categories:
- Past Meetings
---

<p><strong>John</strong> reported on his successful installation of a Let’s Encrypt certificate using <a href="https://certbot.eff.org/" type="text/html" role="link">certbot</a> in manual mode. He had first downloaded <code>certbot</code> to his computer; he had then gone to the webroot folder on the website, that is, the one containing <code>index.html</code>, and created the folder <code>.well-known</code> and then, inside that, another folder called <code>acme-challenge</code> so that he had <code>/.well-known/acme-challenge/</code>.</p><p>Using root permissions on his computer, he had entered:</p><p><code>certbot certonly - - manual</code></p><p>which prompted him for the URL of the website on which he wished to place the certificate and then instructed him to place a string in a file with a specific name in <code>/.well-known/acme-challenge/</code>.</p><p>He had created the file and uploaded it to <code>/.well-known/acme-challenge/</code> before pressing Enter to continue.</p><p>Once <code>certbot</code> had prompted a check that the file just created was on the website with the specified URL, the relevant files were placed in <code>/etc/letsencrypt/live/&lt;domain name&gt;/</code>, the certificate in <code>fullchain.pem</code> and the private key in <code>privkey.pem</code>.</p><p>He had then followed the instructions on <a href="https://www.123-reg.co.uk/support/hosting/manually-install-an-ssl-certificate-on-my-cpanel-hosting/" type="text/html" role="link">Manually installing an SSL certificate</a> on 123-Reg websites; the only downside had been that 123-Reg provide a script which can be placed in <code>.htaccess</code> to allow <code>http</code> pages to be treated as <code>https</code> pages but this required <code>www</code> to be in the URL and the website John maintains had never set up the <code>www</code> option. So he had manually to change <code>http</code> to <code>https</code>.</p><p>David noted that he would have to renew the certificate every few months manually but John said that, having found out how straightforward it was, that would be no problem. The reason he had done it was not that the website needed a certificate as it is a static website on which there is nothing to steal but that some browsers insist on warning users that it is ‘insecure.’ So he wanted to avoid casual users being put off by these messages from browsers. David also mentioned that there is a <a href="https://hub.docker.com/r/certbot/certbot/" type="text/html" role="link">certbot Docker image</a>.</p><p><strong>Brian</strong> reported some problems with <a href="https://nextcloud.com/" type="text/html" role="link">Nextcloud</a> integration with <a href="https://www.home-assistant.io/" type="text/html" role="link">Home Assistant</a> [there are several threads on the Internet about such problems] but none with <a href="https://tailscale.com/" type="text/html" role="link">tailscale</a> integration. He had also found that he could only run so much on Home Assistant.</p><p>He went on to say that a teacher in Spain was using the <a href="hhttps://libre.computer/products/aml-s905x-cc/" type="text/html" role="link">Libre Computer Board AML-S905X-CC</a>, otherwise known as ‘Le potato’ in place of a Raspberry Pi 4; it is very similar but lacks wi-fi. David commented that it uses the same system on a chip that the Odroid uses. Brian added that he has heard that another batch of Raspberry Pi 4s will be arriving soon.</p><p>Responding to Brian’s comment about Home Assistant becoming overloaded David commented that Home Assistant remembers every device that it finds and also that there is <a href="https://openwrt.org/" type="text/html" role="link">OpenWrt</a> integration for Home Assistant.</p><p><strong>Bernard</strong> gave a <a href="http://www.bradlug.co.uk/blog/2022/12/13/files/docker.odp" type="application/vnd.oasis.opendocument.presentation" role="link">presentation</a> on <a href="https://www.docker.com/" type="text/html" role="link">Docker</a> which works by running an application built into an image in a container; there are other container managers such as <a href="https://podman.io/" type="text/html" role="link">Podman</a> which runs them and <a href="https://buildah.io/" type="text/html" role="link">Buildah</a> which builds them. A daemon runs the container, receiving commands from a command line client which can be remote.</p><p>Note that you have to be root or in a Docker group to run Docker.</p><p>The <a href="https://hub.docker.com/" type="text/html" role="link">Docker Hub</a> is just a listing of available images, some of which are rubbish. Go for those labelled ‘official Docker image.’</p><p><code>docker image ls</code></p><p>lists the images you have downloaded while</p><p><code>docker image run &lt;imagename&gt;</code></p><p>will run an image you have downloaded or pull it from the Docker Hub.</p><p>Each image needs to have at least two files, a Dockerfile and a file which can be executed. That image also needs to contain the language which the file is going to use. There are languages and databases available to include in Docker images.</p><p>The Dockerfile contains three lines of instruction:</p><p><code>FROM</code> specifying the language image on which to base the container</p><p><code>COPY</code> specifying the application to copy into the container</p><p><code>CMD [ ]</code> specifying the commands to initiate the language and run the application.</p><p><strong>John</strong> mentioned that <a href="https://documentation.suse.com/sles/15-SP4/html/SLES-all/cha-podman-overview.html" type="text/html" role="link">SUSE</a> are planning to move to Podman containers in future as an alternative to packages and Bernard said that Podman containers are compatible with Docker containers but do not require root to run them. John suggested that that might well explain why SUSE are using them for large organisations where giving people access to particular applications needs to be simple.</p><p><strong>Bernard</strong> then demonstrated how to create a Docker image and run it and listed some of the Docker commands before going on to discuss how to create a container for his web application, <code>skiwidgets</code>, which runs on port 8000. He went on to demonstrate creating another container containing the image <code>skiwdock</code> which runs in the background with the container port mapped to the host port (which in this example happen to be the same).</p><p>You can create your own networks and attach containers to the network and you can have groups of containers. There are various restart policies of which Bernard would recommend <code>-- restart always</code>.</p><p>There are various ways of adding storage space; <code>bind</code> mounts can be shared with a directory and also get you hard drive space.</p><p>Of the Docker clients <code>docker-compose</code> is recommended rather than the older <code>docker compose</code>; this takes a <a href="https://yaml.org/" type="text/html" role="link">yaml</a> file and you can put the instructions for multiple containers in the <code>yaml</code> file.</p><p><strong>Brian</strong> asked where <a href="https://en.wikipedia.org/wiki/LXC" type="text/html" role="link">Linux Containers (LXC)</a>/<a href="https://linuxcontainers.org/lxd/" type="text/html" role="link">LXD</a> fitted in and Bernard said that you should consider LXC/LXD for developing and Docker for deploying.</p><p><strong>Darren</strong> said that a year ago he had started a module but that he had fluffed it and would have to redo it again; in the meantime he has started another module using what looks like an Ubuntu Docker image. It is an OU only image but includes <a href="https://www.python.org/" type="text/html" role="link">Python</a> and <a href="https://en.wikipedia.org/wiki/Project_Jupyter" type="text/html" role="link">Jupyter notebooks</a>. He is also using a Java program called <a href="https://openrefine.org/" type="text/html" role="link">Open Refine</a> which allows you to import a spreadsheet and then to export it in different formats; it will also tidy up CSV files. However, one problem he has found it that it has no history file; so it looks as if he will have to take screenshots to record what he has done and create a log of screenshots to prove that he was using Open Refine.</p><p>He commented that he had found that all the Python libraries look different — a point on which Bernard agreed.</p><p>Darren is also using <a href="hhttps://pandas.pydata.org/" type="text/html" role="link">pandas</a>, the Python Data Analysis Library.</p>
