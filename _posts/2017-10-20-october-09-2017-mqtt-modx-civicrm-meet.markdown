---
author: John
date: 2017-10-20 21:55:36+00:00
excerpt: '<p><strong>Bernard</strong> demonstrated the software he is developing for the Todmorden <a href="http://www.astronomycentre.org.uk/" type="text/html">Astronomy Centre</a> to enable members remotely to control the <a href="http://www.astronomycentre.org.uk/index.php/2-uncategorised/29-remscope" type="text/html">Remscope</a>, a robotic telescope currently being constructed at the site.</p>
	'
layout: post
title: 'October 9 2017 MQTT, MODX and CiviCRM Meet'
categories:
- Past Meetings
---

<p><strong>Bernard</strong> demonstrated the software he is developing for the Todmorden <a href="http://www.astronomycentre.org.uk/" type="text/html">Astronomy Centre</a> to enable members remotely to control the <a href="http://www.astronomycentre.org.uk/index.php/2-uncategorised/29-remscope" type="text/html">Remscope</a>, a robotic telescope currently being constructed at the site.</p><p>The project consists of a public facing server which members can log into and a Raspberry Pi controlling the telescope and linked to the public facing server over the Internet. He is using <a href="http://mqtt.org/" type="text/html">MQTT</a> for communications and <a href="http://redis.io/" type="text/html">Redis</a> as the database. Apart from controlling the telescope, the Raspberry Pi is connected to sensors so that, for example, it can detect when it is raining and close the telescope.</p><p>The public facing server enables members to log in, to book sessions, to find out about the status of the telescope and to send commands to the telescope via the Raspberry Pi.</p><p>Redis saves and recovers data as key value pairs though it can also save lists so that, for example, it can save a list of the temperatures sensed over time. Redis can receive commands in a wide variety of languages — including Python, Perl, Ruby, C, Erlang and even, as Bernard demonstrated, BASH. Though the database is held in memory, it is dumped to long term storage every so often.</p><p>The Raspberry Pi subscribes to the webserver so that whatever the webserver publishes is received by the Raspberry Pi.</p><p>Bernard then demonstrated the Chrome extension, <a href="https://chrome.google.com/webstore/detail/mqttlens/" type="text/html">MQTTlens</a>, which allows you to manage MQTT messaging. Using <code>/#</code> at the end of the URL gets everything that the server is publishing. Note that the server does not have to know about the Raspberry Pi.</p><p>You can also configure quality of service in MQTT from 0 to 2, with 2 offering the most handshaking, but he has found 0 works well enough.</p><p><strong>Darren</strong> reported that he has started <a href="http://www.open.ac.uk/courses/modules/mu123" type="text/html">MU123: Discovering mathematics</a>, which assumes that you only need to be able to add, subtract, multiply, divide and understand powers, and <a href="http://www.open.ac.uk/courses/modules/tm129" type="text/html">TM129: Technologies in practice</a>, which introduces people to computing and information technology including ‘robotics, networking, and Linux.’</p><p><strong>John</strong> then demonstrated <a href="https://modx.com/" type="text/html">MODX</a> which the Green Party uses to provide websites for its local parties. John said that, despite the lack of documentation, he had been impressed at how easy it was so scale up so that the party now has over 300 subdomains, typically labelled <code>&lt;localparty&gt;.greenparty.org.uk</code> using it.</p><p>Those managing a site see a list of folders on the left hand side of the screen, each of which can be edited in the rest of the screen.</p><p>The topmost folder contains the settings for the subdomain, URL, name of the election agent, Google Analytics code, links to Facebook, Twitter and Youtube, etc.</p><p>Each page has a number of settings at the top including a Long title which is what search engines use and an option to Hide from menus which means that it does not appear on the website menu but can usually be accessed from another page.</p><p>Content may be entered in rich text or HTML.</p><p>The Home page also has options to have up to four banners cycling at the top of the page, to have buttons linking to particular pages, to create footer columns normally containing links to other sites which might be of interest to visitors, to add various items to the right hand column of each page and to determine which news items appear on the News page apart from local news items.</p><p>Apart from the list of subdomains on the left hand side of the screen, there is also a list of folders in which website editors can store images and files for use on the website.</p><p>John then explained how to send bulk emails in CiviMail, one of the modules of <a href="https://civicrm.org/" type="text/html">CiviCRM</a>. Each mailing has a name, which is simply intended to allow someone to find the email in future, a sender selected from a list of permitted senders, recipients either selected from a predefined list of recipients, which is created on the fly by an SQL command to the database, or from a list generated using Advanced Search, a subject and then the body text which may be rich text or HTML.</p><p>Bulk emails must satisfy certain legal requirements, including having an unsubscribe option, which are normally handled by tokens, but these have been included in the recommended header and footer to avoid users having to bother with tokens.</p><p>Once the email is complete, there is an option to send a test email to an individual or a group for checking before moving on to sending it. One problem that users may experience is that emails are always sent sequentially; so, if someone decides to send an email to all members, it can take some time before the server can send the next email!</p><p>Financial transactions, for example, for events or membership, are handled by a contributions module which must be linked to the organisation’s accounting software.</p><p>Because CiviCRM is modular, every instance has the means to manage contacts but not every organisation will have a membership module; some may have a client module or a module for managing grants, depending on what the organisation does.</p><p>The Green Party runs CiviCRM on top of Drupal and so those members with access permissions for CiviCRM log in first to Drupal where they find pages relating to their own local party among other things. John had found that he could revise the Green Party guide to using CiviCRM by writing it in HTML outside Drupal and then copying and pasting it into Drupal which made it easy to test everything before uploading it.</p>



